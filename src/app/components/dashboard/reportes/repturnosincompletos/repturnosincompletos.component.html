
		 <div class="container">	
		 	<div class="row justify-content-md-center m-2">
			    <div class="col col-lg-2"></div>
			    <div class="col-md-auto">
			      <div class="text-center" >
					<label>Selecciona un trabajador por RUT:</label>
					<ng-select 
							   [items]="arrayNombres"
					           bindLabel="rut"
					           autofocus
					           bindValue="id"
					            (change)="onChange($event)"
					           [(ngModel)]="selectedPersonId">
					</ng-select>
					</div>
			    </div>
			    <div class="col col-lg-2"></div>
		    </div>
		    <hr>

		    <div class="row justify-content-md-center mb-2">
			    
			    <div class="col-sm-12">
			      <div class="text-center" >
					 <app-select-sucursales></app-select-sucursales>
					</div>
			    </div>
			   
		    </div>






		 	<div class="row justify-content-sm-center m-2">
			    <div class="col col-sm-6">
			    	<p class="text-muted">Mes</p>
			    	        <div class="form-group mx-sm-3 mb-2">		   
							    <select [(ngModel)]="mes" name="mes" type="text" class="form-control">	
							    	  <option>Mes</option>
							    	  <option>1</option>
								      <option>2</option>
								      <option>3</option>
								      <option>4</option>
								      <option>5</option>
								      <option>6</option>
								      <option>7</option>
								      <option>8</option>
								      <option>9</option>
								      <option>10</option>
								      <option>11</option>
								      <option>12</option>
							    </select>  
							</div>
			    </div>
			  
			    <div class="col col-sm-6">
			    		<p class="text-muted">Anio</p>
			    				<div class="form-group  mx-sm-3 mb-2">		    
								       <select [(ngModel)]="anio" name="anio"  type="text" class="form-control" >		    	
								    	  <option>AÃ±o</option>
								    	  <option>2017</option>
						            <option>2018</option>          
						            <option>2019</option>          
						            <option>2020</option>          
						            <option>2021</option>          
						            <option>2022</option>          
								    </select>
						  		</div>
			    </div>
		    </div>



		 	<div class="row justify-content-sm-center m-2">
			  <div class="col col-sm-3">
			    	           <div class="form-group mx-sm-3 mb-2">
						              <button (click)="actSucursal()" mat-raised-button color="primary">Visualizar por sucursal </button>
						       </div>    
			  </div>
			  
			  <div class="col col-sm-3">
			  	<button (click)="actTrabajador()" mat-raised-button color="primary">Visualizar por trabajador </button>
			  </div>	

			  <div class="col col-sm-3">
			  	<button (click)="ActTodo()" mat-raised-button color="primary">Visualizar todo </button>
			  </div>	

			  <div class="col col-sm-3">
						        <div class="form-group mx-sm-3 mb-2">
						              <button (click)="exportAsExcel()" mat-raised-button color="success">Importar excel</button>
						        </div>
			  </div>
		    </div>
</div>

<div class="table-responsive-md">

<table #TABLE class="table">
  <thead>
    <tr>

      <th scope="col">Nombre</th>
      <th scope="col">Apellido</th>
      <th scope="col">Rut</th>
      <th scope="col">Fecha</th>
      <th scope="col">Hora</th>
      <th scope="col">locacion</th>     
      <th scope="col">Movimiento</th>  
      <th scope="col">Respaldo</th>
      <th scope="col">GPS</th>


    </tr>	
  </thead>
  <tbody>
    <tr *ngFor="let datoTrabajador of datosTrabajadores?.info; let i = index">

      <td>{{datoTrabajador.nombre}}</td>
      <td>{{datoTrabajador.apellido}}</td>
      <td>{{datoTrabajador.rut}}</td>
      <td>{{datoTrabajador.fecha}}</td>
      <td>{{datoTrabajador.hora}}</td>
      <td>{{datoTrabajador.locacion}}</td>
      <td>{{datoTrabajador.tipo_movimiento}}</td>
 	   <th scope="col">
		        <!-- Aca va el modal -->
		                  <!-- Button trigger modal -->
		                  <button type="button" class="btn btn-primary" data-toggle="modal" [attr.data-target]="'#s' + datoTrabajador.id">
		                    Visualizar Registro
		                  </button>

		                          <!-- Modal -->
		                          <div class="modal fade" [id]="'s'+datoTrabajador.id" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		                            <div class="modal-dialog" role="document">
		                              <div class="modal-content">
		                                <div class="modal-header">
		                                  <h5 class="modal-title" id="exampleModalLabel">Registro</h5>
		                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		                                    <span aria-hidden="true">&times;</span>
		                                  </button>
		                                </div>
		                                <div class="modal-body">
		                                 <div class="text-center">
		                                   <img [src]="datoTrabajador.url" class="rounded" alt="...">
		                                 </div>    
		                                </div>
		                                <div class="modal-footer">
		                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
		                                <!--  <button type="button" class="btn btn-primary">Save changes</button> -->
		                                </div>
		                              </div>
		                            </div>
		                          </div>  
		        <!-- Aca va el modal -->
		      </th>		
		      <th scope="col">
		        <!-- Aca va el modal -->
		                  <!-- Button trigger modal -->
		                  <button type="button" class="btn btn-warning" data-toggle="modal" [attr.data-target]="'#d' + datoTrabajador.id">
		                    Mapa GPS
		                  </button>

		                          <!-- Modal -->
		                          <div class="modal fade" [id]="'d'+datoTrabajador.id" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		                            <div class="modal-dialog" role="document">
		                              <div class="modal-content">
		                                <div class="modal-header">
		                                  <h5 class="modal-title" id="exampleModalLabel">Registro GPS</h5>
		                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		                                    <span aria-hidden="true">&times;</span>
		                                  </button>
		                                </div>
		                                <div class="modal-body">
			                                 <div class="text-center">
			                                          	<agm-map style="height:300px;" [latitude]="datoTrabajador.latitude * 1" [longitude]="datoTrabajador.longitude * 1"  zoomControl="true">
										     				 <agm-marker [latitude]="datoTrabajador.latitude * 1" [longitude]="datoTrabajador.longitude * 1"  ></agm-marker>
										    			</agm-map>
			                                 </div>    
		                                </div>
		                                <div class="modal-footer">
		                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
		                                <!--  <button type="button" class="btn btn-primary">Save changes</button> -->
		                                </div>
		                              </div>
		                            </div>
		                          </div>  
		        <!-- Aca va el modal -->
		      </th>		

    </tr>
   
  </tbody>
</table></div>